(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),u=n.n(a),r=n(15),l=n.n(r),c=n(16),o=n(2),i=n(5),m=n.n(i),f=function(){return m.a.get("/api/persons").then((function(e){return e.data}))},s=function(e){return m.a.post("/api/persons",e).then((function(e){return e.data}))},h=function(e){return m.a.delete("".concat("/api/persons","/").concat(e)).then((function(e){return e.data}))},d=function(e){var t=e.person;return u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,t.name," ",t.number))},v=function(e){var t=e.persons,n=e.onclick;return console.log(t),u.a.createElement(u.a.Fragment,null,u.a.createElement("ul",null,t.map((function(e){return u.a.createElement("div",{key:e.id},u.a.createElement(d,{person:e}),u.a.createElement("button",{onClick:function(){return n(e.id)}},"delete"))}))))},b=function(e){return u.a.createElement("div",null,e.text," ",u.a.createElement("input",{value:e.value,onChange:e.onChange}))},g=function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement("form",{onSubmit:e.onSubmit},u.a.createElement(b,{text:e.text1,value:e.value1,onChange:e.onChange1}),u.a.createElement(b,{text:e.text2,value:e.value2,onChange:e.onChange2}),u.a.createElement("button",{type:"submit"},"add")))},E=function(e){return u.a.createElement("div",null,e.text," ",u.a.createElement("input",{value:e.value,onChange:e.onChange}))},p=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(""),i=Object(o.a)(l,2),m=i[0],d=i[1],b=Object(a.useState)(""),p=Object(o.a)(b,2),j=p[0],O=p[1],C=Object(a.useState)(""),x=Object(o.a)(C,2),S=x[0],k=x[1],w=Object(a.useState)([]),y=Object(o.a)(w,2),D=y[0],F=y[1],A=Object(a.useState)(null),J=Object(o.a)(A,2),N=J[0],T=J[1];Object(a.useEffect)((function(){console.log("effect"),f().then((function(e){r(e),F(e)}))}),[]);var B=function(e){var t=e.message;return null===t?null:u.a.createElement("div",{className:"error"},t)};return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(B,{message:N}),u.a.createElement(E,{text:"filter shown with",value:S,onChange:function(e){if(k(e.target.value),e.target.value.length>0){var t=Object(c.a)(n).filter((function(t){return t.name.startsWith(e.target.value)}));F(t)}0===e.target.value.length&&F(n)}}),u.a.createElement("h2",null,"Add a new"),u.a.createElement(g,{onSubmit:function(e){e.preventDefault(),s({name:m,number:j}).then((function(e){return console.log(e)})),f().then((function(e){r(e),F(e),T("Added ".concat(m," to the phonebook")),setTimeout((function(){T(null)}),5e3)})),d(""),O("")},text1:"name: ",value1:m,onChange1:function(e){d(e.target.value)},text2:"number: ",value2:j,onChange2:function(e){O(e.target.value)}}),u.a.createElement("h2",null,"Numbers"),u.a.createElement(v,{persons:D,onclick:function(e){var t=n.find((function(t){return t.id===e}));window.confirm("Delete ".concat(t.name))&&h(e).then((function(a){r(n.filter((function(t){return t.id!==e}))),F(n.filter((function(t){return t.id!==e}))),T("Deleted ".concat(t.name)),setTimeout((function(){T(null)}),5e3)})).catch((function(){r(n.filter((function(t){return t.id!==e}))),T("".concat(t.name," had already been removed"),"error")}))}}))};n(39);l.a.render(u.a.createElement(p,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.aecff3ac.chunk.js.map