(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(15),u=n.n(r),l=n(16),c=n(3),i=n(2),m=n.n(i),h="https://lit-shore-36190.herokuapp.com/api/persons",f=function(){return m.a.get(h).then((function(e){return e.data}))},s=function(e){return m.a.post(h,e).then((function(e){return e.data}))},p=function(e){var t=e.person;e.deleteContact;return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,t.name," ",t.number))},d=function(e){var t=e.persons,n=e.onclick;return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",null,t.map((function(e){return o.a.createElement("div",{key:e.id},o.a.createElement(p,{person:e}),o.a.createElement("button",{onClick:function(){return n(e.id,e.name)}},"delete"))}))))},v=function(e){return o.a.createElement("div",null,e.text," ",o.a.createElement("input",{value:e.value,onChange:e.onChange}))},b=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:e.onSubmit},o.a.createElement(v,{text:e.text1,value:e.value1,onChange:e.onChange1}),o.a.createElement(v,{text:e.text2,value:e.value2,onChange:e.onChange2}),o.a.createElement("button",{type:"submit"},"add")))},g=function(e){return o.a.createElement("div",null,e.text," ",o.a.createElement("input",{value:e.value,onChange:e.onChange}))},E=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)(""),i=Object(c.a)(u,2),h=i[0],p=i[1],v=Object(a.useState)(""),E=Object(c.a)(v,2),k=E[0],j=E[1],O=Object(a.useState)(""),w=Object(c.a)(O,2),C=w[0],x=w[1],S=Object(a.useState)([]),y=Object(c.a)(S,2),T=y[0],D=y[1],F=Object(a.useState)(null),A=Object(c.a)(F,2),I=A[0],J=A[1];Object(a.useEffect)((function(){console.log("effect"),f().then((function(e){r(e),D(e)}))}),[]);var N=function(e){var t=e.message;return null===t?null:o.a.createElement("div",{className:"error"},t)};return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(N,{message:I}),o.a.createElement(g,{text:"filter shown with",value:C,onChange:function(e){if(x(e.target.value),e.target.value.length>0){var t=Object(l.a)(n).filter((function(t){return t.name.startsWith(e.target.value)}));D(t)}0===e.target.value.length&&D(n)}}),o.a.createElement("h2",null,"Add a new"),o.a.createElement(b,{onSubmit:function(e){e.preventDefault();var t={name:h,number:k};if(n.filter((function(e){return e.name===h})).length>0){var a=n.filter((function(e){return e.name===h}))[0].id;window.confirm("".concat(h," is already added to phonebook, replace the number with a new one?"))&&(m.a.put("https://lit-shore-36190.herokuapp.com/".concat(a),t).then((function(){return m.a.get("https://lit-shore-36190.herokuapp.com/")})).then((function(e){var t=e.data;r(t),D(t),J("Updated phonenumber for ".concat(h)),setTimeout((function(){J(null)}),5e3)})),p(""),j(""))}else s(t).then((function(e){return console.log(e)})),f().then((function(e){r(e),D(e),J("Added ".concat(h," to the phonebook")),setTimeout((function(){J(null)}),5e3)})),p(""),j("")},text1:"name: ",value1:h,onChange1:function(e){p(e.target.value)},text2:"number: ",value2:k,onChange2:function(e){j(e.target.value)}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(d,{persons:T,onclick:function(e,t){console.log("deletebutton for preson id:",e),window.confirm("Do you really want to delete ".concat(t,"?"))&&m.a.delete("https://lit-shore-36190.herokuapp.com/".concat(e)).then((function(){return m.a.get("https://lit-shore-36190.herokuapp.com/")})).then((function(e){var n=e.data;r(n),D(n),J("Deleted ".concat(t," from the phonebook")),setTimeout((function(){J(null)}),5e3)})).catch((function(e){J("Information of ".concat(t," was already removed from the phonebook")),setTimeout((function(){J(null)}),5e3)}))}}))};n(39);u.a.render(o.a.createElement(E,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.009b0539.chunk.js.map